{"version":3,"sources":["./src/app/alerts/alert.service.ts","./src/app/http-interceptors/with-credentials-http-interceptor.ts","./src/app/app-initialize.service.ts","./src/app/core/sign-in/sign-in.service.ts","./src/app/core/api/api.ts","./src/app/pages/app/main-navigation/main-navigation.component.ts","./src/app/pages/app/main-navigation/main-navigation.component.html","./src/app/pages/app/app.component.ts","./src/app/pages/app/app.component.html","./src/app/core/users/user-name-already-used-error.ts","./src/app/core/users/user.service.ts","./src/app/pages/app/main-footer/main-footer.component.ts","./src/app/pages/app/main-footer/main-footer.component.html","./src/app/pages/users/users.component.ts","./src/app/pages/users/users.component.html","./src/environments/environment.ts","./src/app/core/users/user.ts","./src/app/alerts/alert.ts","./src/app/routing/app-routing.module.ts","./src/app/app.module.ts","./src/app/alerts/alert-type.ts","./src/app/alerts/alert-view/alert-view.component.ts","./src/app/alerts/alert-view/alert-view.component.html","./src/app/core/users/user-has-active-borrows-error.ts","./src/app/dialogs/confirm-dialog/confirm-dialog.component.ts","./src/app/dialogs/confirm-dialog/confirm-dialog.component.html","./src/app/pages/users/user-view-model.ts","./src/app/routing/can-activates/signed-in-can-activate.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACT;;AAKzB,MAAM,YAAY;IAHzB;QAIa,WAAM,GAAY,EAAE,CAAC;KAQjC;IANG,IAAI,CAAC,OAAe,EAAE,OAAkB,qDAAS,CAAC,IAAI;QAClD,IAAI,KAAK,GAAG,IAAI,4CAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAExB,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC;IAChD,CAAC;;wEARQ,YAAY;+FAAZ,YAAY,WAAZ,YAAY,mBAFT,MAAM;;;;;;;;;;;;;;;;;ACAf,MAAM,8BAA8B;IACvC,SAAS,CAAC,OAAyB,EAAE,IAAiB;QAClD,IAAI,sBAAsB,GAAG,OAAO,CAAC,KAAK,CAAC;YACvC,eAAe,EAAE,IAAI;SACxB,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;IAC/C,CAAC;;4GAPQ,8BAA8B;iHAA9B,8BAA8B,WAA9B,8BAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEpC,MAAM,oBAAoB;IAC7B,YAA6B,WAAwB,EAAmB,aAA4B;QAAvE,gBAAW,GAAX,WAAW,CAAa;QAAmB,kBAAa,GAAb,aAAa,CAAe;IAEpG,CAAC;IAEK,SAAS;;YACX,IAAI,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,SAAS,EAAE,CAAC;YAC5D,IAAI,IAAI,KAAK,IAAI;gBACb,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACxC,CAAC;KAAA;;wFATQ,oBAAoB;uGAApB,oBAAoB,WAApB,oBAAoB,mBAFjB,MAAM;;;;;;;;;;;;;ACLtB;AAAA;AAAA;AAAyD;;AAMlD,MAAM,aAAa;IAH1B;QAIa,sBAAiB,GAAG,IAAI,0DAAY,EAAE,CAAC;QAExC,gBAAW,GAAS,IAAI,CAAC;KAepC;IAbG,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAED,MAAM,CAAC,IAAU;QACb,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;IAClC,CAAC;IAED,OAAO;QACH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;IAClC,CAAC;;0EAjBQ,aAAa;gGAAb,aAAa,WAAb,aAAa,mBAFV,MAAM;;;;;;;;;;;;;ACJtB;AAAA;AAAA;AAA+C;AAExC,MAAM,OAAO,GAAG,IAAI,4DAAc,CAAS,kBAAkB,CAAC,CAAC;;;;;;;;;;;;;ACFtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkE;;;;;;ICiBlD,uEAA0F;IACtF,mEAAmC;IACnC,2EACJ;IAAA,4DAAI;;;IAHwD,mKAA6B;;;;IAfrG,wEAA0C;IACtC,4EAC4F;IACxF,qEAAyC;IAC7C,4DAAS;IACT,yEAAkF;IAC9E,yEAAwB;IACpB,uEAA2E;IACvE,kEAAmC;IACnC,gFACJ;IAAA,4DAAI;IACJ,uEAAsD;IAClD,mEAA2B;IAC3B,2EACJ;IAAA,4DAAI;IACJ,iIAGI;IACJ,2EAAsB;IAClB,8EAE0B;IACtB,oEAA2B;IAC3B,wDACJ;IAAA,4DAAS;IAET,2EAAsF;IAClF,yEAA+D;IAApB,8TAAmB;IAC1D,oEAAwC;IACxC,8EACJ;IAAA,4DAAI;IACR,4DAAM;IACV,4DAAM;IACV,4DAAM;IACV,4DAAM;IACV,qEAAe;;;IAzB0B,0DAAwB;IAAxB,8JAAwB;IAIjD,0DAA4B;IAA5B,+FAA4B;IASxB,0DACJ;IADI,sGACJ;;ADtBb,MAAM,YAAY,GAAG,IAAI,4DAAc,CAAS,oBAAoB,CAAC,CAAC;AACtE,MAAM,eAAe,GAAG,IAAI,4DAAc,CAAS,4BAA4B,CAAC,CAAC;AACjF,MAAM,oBAAoB,GAAG,IAAI,4DAAc,CAAS,iCAAiC,CAAC,CAAC;AAO3F,MAAM,uBAAuB;IAKhC,YAA6B,aAA4B,EAAyC,UAAkB,EAC9E,aAAqB,EAAyC,kBAA0B,EACzG,QAAkB;QAFV,kBAAa,GAAb,aAAa,CAAe;QAAyC,eAAU,GAAV,UAAU,CAAQ;QAC9E,kBAAa,GAAb,aAAa,CAAQ;QAAyC,uBAAkB,GAAlB,kBAAkB,CAAQ;QACzG,aAAQ,GAAR,QAAQ,CAAU;IACvC,CAAC;IAPD,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC;IACzC,CAAC;IAOD,OAAO;QACH,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QAC7B,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,GAAG,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC;IAClF,CAAC;;8FAbQ,uBAAuB,uNAKmC,YAAY,mEACnE,eAAe,mEAA0C,oBAAoB;uGANhF,uBAAuB;QCdpC,yEAAyD;QACrD,uEAAuC;QAAA,oFAAoB;QAAA,4DAAI;QAC/D,sIAoCe;QACnB,4DAAM;;QArCa,0DAAyB;QAAzB,yFAAyB;;;;;;;;;;;;;;;;;;;;;;;;;;ACKrC,MAAM,YAAY;;wEAAZ,YAAY;4FAAZ,YAAY;QCPzB,iFAA2C;QAC3C,8EAAiE;QACjE,6EAAmC;QAEnC,yEAAgD;QAC5C,4EAAiC;QACrC,4DAAM;;;;;;;;;;;;;;ACNN;AAAA;AAAO,MAAM,wBAAyB,SAAQ,KAAK;CAElD;;;;;;;;;;;;;;;;;;;;;;;;;ACAiD;AACD;AACnB;AAC4C;AACrC;AACuC;;;AAKrE,MAAM,WAAW;IACpB,YAAoC,UAAsB,EAAoC,MAAc;QAAxE,eAAU,GAAV,UAAU,CAAY;QAAoC,WAAM,GAAN,MAAM,CAAQ;IAE5G,CAAC;IAED,MAAM,CAAC,UAC8D,EAAE;QACnE,IAAI,UAAU,yGACP,OAAO,CAAC,QAAQ,KAAK,SAAS,IAAI,EAAE,WAAW,EAAE,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,GAC9E,OAAO,CAAC,cAAc,KAAK,SAAS,IAAI,EAAE,kBAAkB,EAAE,OAAO,CAAC,cAAc,EAAE,GACtF,OAAO,CAAC,eAAe,KAAK,SAAS,IAAI,EAAE,mBAAmB,EAAE,OAAO,CAAC,eAAe,EAAE,GACzF,OAAO,CAAC,cAAc,KAAK,SAAS,IAAI,EAAE,kBAAkB,EAAE,OAAO,CAAC,cAAc,EAAE,GACtF,OAAO,CAAC,WAAW,KAAK,SAAS,IAAI,EAAE,cAAc,EAAE,OAAO,CAAC,WAAW,EAAE,GAC5E,OAAO,CAAC,iBAAiB,KAAK,SAAS,IAAI,EAAE,qBAAqB,EAAE,OAAO,CAAC,iBAAiB,CAAC,QAAQ,EAAE,EAAE,GAC1G,OAAO,CAAC,qBAAqB,KAAK,SAAS,IAAI,EAAE,yBAAyB,EAAE,OAAO,CAAC,qBAAqB,CAAC,QAAQ,EAAE,EAAE,CAC5H,CAAC;QAEF,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAS,GAAG,IAAI,CAAC,MAAM,kBAAkB,EAAE,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC,CAAC,IAAI,CAC7F,0DAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,0CAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CACvH,CAAC;IACN,CAAC;IAED,OAAO,CAAC,EAAU;QACd,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAO,GAAG,IAAI,CAAC,MAAM,uBAAuB,EAAE,EAAE,CAAC,CAAC,IAAI,CAC5E,0DAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,0CAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAC3G,CAAC;IACN,CAAC;IAED,WAAW;QACP,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAO,GAAG,IAAI,CAAC,MAAM,sBAAsB,CAAC,CAAC,IAAI,CACvE,iEAAU,CAAC,CAAC,CAAoB,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC,+CAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,uDAAU,CAAC,CAAC,CAAC,CAAC,EACjF,0DAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,0CAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAC/H,CAAC;IACN,CAAC;IAED,GAAG,CAAC,IAAU,EAAE,QAAgB;QAC5B,IAAI,EAAE,EAAE,KAAmB,IAAI,EAAlB,SAAS,wDAAK,IAAI,EAA3B,MAAoB,CAAO,CAAC;QAChC,IAAI,YAAY,mCAAQ,SAAS,KAAE,QAAQ,GAAE,CAAC;QAE9C,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,MAAM,kBAAkB,EAAE,YAAY,CAAC,CAAC,IAAI,CAClF,iEAAU,CAAC,CAAC,CAAoB,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC,uDAAU,CAAC,IAAI,sFAAwB,EAAE,CAAC,CAAC,CAAC,CAAC,uDAAU,CAAC,CAAC,CAAC,CAAC,EACnH,0DAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,0CAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAC3G,CAAC;IACN,CAAC;IAED,MAAM,CAAC,IAAU,EAAE,QAA4B;QAC3C,IAAI,QAAQ,GAAG,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,iCAAM,IAAI,KAAE,QAAQ,GAAE,CAAC;QAErE,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAO,GAAG,IAAI,CAAC,MAAM,uBAAuB,IAAI,CAAC,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAC,IAAI,CAC3F,iEAAU,CAAC,CAAC,CAAoB,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC,uDAAU,CAAC,IAAI,sFAAwB,EAAE,CAAC,CAAC,CAAC,CAAC,uDAAU,CAAC,CAAC,CAAC,CAAC,EACnH,0DAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,0CAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAC3G,CAAC;IACN,CAAC;IAED,MAAM,CAAC,IAAU;QACb,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,uBAAuB,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAC9E,iEAAU,CAAC,CAAC,CAAoB,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC,uDAAU,CAAC,IAAI,wFAAyB,EAAE,CAAC,CAAC,CAAC,CAAC,uDAAU,CAAC,CAAC,CAAC,CAAC,CACvH;IACL,CAAC;;sEA1DQ,WAAW,kLACgD,gDAAO;8FADlE,WAAW,WAAX,WAAW,mBAFR,MAAM;;;;;;;;;;;;;;;;;ACHf,MAAM,mBAAmB;;sFAAnB,mBAAmB;mGAAnB,mBAAmB;QCPhC,yEAAoD;QAChD,wEAAO;QACH,kFACA;QAAA,uEAAoD;QAAA,2EAAW;QAAA,4DAAI;QACvE,4DAAQ;QACZ,4DAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHyC;AACG;AAEI;AACqC;AACY;AACV;;;;;;;ICiD7E,wEAA6C;IAAA,uDAAoB;IAAA,qEAAe;;;IAAnC,0DAAoB;IAApB,oFAAoB;;;IACjE,mEAA0D;;;;IA6C1D,wEACoD;IAAvB,gZAAsB;IAAC,4DAAI;;;;IAlDhE,qEAC2F;IACvF,yEAAyC;IACrC,mIAAgF;IAChF,6GAA0D;IAC9D,4DAAK;IACL,yEAA8B;IAC1B,4EAEmC;IAA/B,gOAA8B;IAFlC,4DAEmC;IACvC,4DAAK;IACL,yEAA8B;IAC1B,4EAGmC;IAA/B,gOAA8B;IAHlC,4DAGmC;IACvC,4DAAK;IACL,yEAA8B;IAC1B,4EACoC;IAAhC,iOAA+B;IADnC,4DACoC;IACxC,4DAAK;IACL,0EAA8B;IAC1B,6EACmC;IAA/B,iOAA8B;IADlC,4DACmC;IACvC,4DAAK;IACL,0EAA8B;IAC1B,6EAEgC;IAA5B,8NAA2B;IAF/B,4DAEgC;IACpC,4DAAK;IACL,sEAAI;IACA,2EAAoC;IAChC,6EACsD;IAAlC,oOAAiC;IADrD,4DACsD;IAC1D,4DAAM;IACV,4DAAK;IACL,sEAAI;IACA,2EAAoC;IAChC,6EAC0D;IAAtC,wOAAqC;IADzD,4DAC0D;IAC9D,4DAAM;IACV,4DAAK;IACL,0EAA6B;IACzB,8EACwF;IAArB,uVAAoB;IAAC,uEAAM;IAAA,4DAAS;IACvG,8EAC+D;IAAxB,0VAAuB;IAAC,mEAAO;IAAA,4DAAS;IACnF,4DAAK;IACL,sEAAI;IACA,+GACwD;IAC5D,4DAAK;IACT,4DAAK;;;;IAnDD,0JAAsF;IAEnE,0DAA4B;IAA5B,2FAA4B;IACvC,0DAA4B;IAA5B,2FAA4B;IAGzB,0DAA8D;IAA9D,+HAA8D;IAEjE,wFAA8B;IAG3B,0DAA8D;IAA9D,+HAA8D;IAEjE,8IAAmE;IAKnE,0DAA+B;IAA/B,yFAA+B;IAI/B,0DAA8B;IAA9B,wFAA8B;IAG3B,0DAA2D;IAA3D,4HAA2D;IAE9D,qFAA2B;IAKP,0DAAiC;IAAjC,2FAAiC;IAMjC,0DAAqC;IAArC,+FAAqC;IAIrD,0DAAiF;IAAjF,qJAAiF;IACrF,sFAA0B;IACtB,0DAAiF;IAAjF,qJAAiF;IAIrF,0DAA4B;IAA5B,2FAA4B;;;IAMhD,0EAAsG;IAClG,0EAA0C;IACtC,2EAAsB;IAAA,0FAAW;IAAA,4DAAO;IAC5C,4DAAM;IACV,4DAAM;;;IACN,0EAA0I;IACtI,2EAAyB;IAAA,sHAAkC;IAAA,4DAAO;IACtE,4DAAM;;;IACN,0EAAyI;IACrI,2EAAyB;IAAA,oJAAsD;IAAA,4DAAO;IAC1F,4DAAM;;ADxGC,MAAM,cAAc;IAkDvB,YAA6B,WAAwB,EAAmB,YAA0B;QAArE,gBAAW,GAAX,WAAW,CAAa;QAAmB,iBAAY,GAAZ,YAAY,CAAc;QA9ClG,eAAU,GAAG,IAAI,wDAAS,CAAC;YACvB,EAAE,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,IAAI,CAAC,iBAAiB,CAAC;YAC/C,QAAQ,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC;YAC7B,SAAS,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC;YAC9B,QAAQ,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC;YAC7B,KAAK,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC;YAC1B,WAAW,EAAE,IAAI,0DAAW,CAAC,KAAK,CAAC;YACnC,eAAe,EAAE,IAAI,0DAAW,CAAC,KAAK,CAAC;SAC1C,CAAC,CAAC;QAuCC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,SAAS,CAAC,GAAS,EAAE,CAAC;YAC/C,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;YAEvB,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;YAE1B,IAAI,CAAC,IAAI,CAAC,SAAS;gBACf,IAAI,CAAC,UAAU,EAAE,CAAC;QAC1B,CAAC,EAAC,CAAC;IACP,CAAC;IA7CD,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,KAAK,KAAK,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,QAAQ,KAAK,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC;IACvH,CAAC;IAED,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,KAAK,KAAK,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC;IAC9F,CAAC;IAED,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,IAAI,EAAE;YACvI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,IAAI,KAAK;YAC5I,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC;IAC9D,CAAC;IAED,IAAI,eAAe;QACf,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC;IAC9C,CAAC;IAED,IAAI,WAAW;QACX,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS;YACxB,OAAO,EAAE,CAAC;QAEd,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK;aACxB,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;aACxB,MAAM,CAAC;QAEZ,IAAI,YAAY,KAAK,CAAC;YAClB,OAAO,EAAE,CAAC;aACT,IAAI,YAAY,KAAK,CAAC;YACvB,OAAO,GAAG,YAAY,SAAS,CAAC;aAC/B,IAAI,YAAY,GAAG,CAAC,IAAI,YAAY,GAAG,CAAC;YACzC,OAAO,GAAG,YAAY,SAAS,CAAC;;YAEhC,OAAO,GAAG,YAAY,QAAQ,CAAC;IACvC,CAAC;IAaK,QAAQ;;YACV,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;YAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;QACtB,CAAC;KAAA;IAED,SAAS;QACL,IAAI,IAAI,CAAC,OAAO,IAAI,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS;YACnD,IAAI,CAAC,UAAU,EAAE,CAAC;QAEtB,IAAI,IAAI,CAAC,UAAU;YACf,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;;YAE9C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;IACrD,CAAC;IAEa,YAAY;;YACtB,IAAI,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAChD,IAAI,QAAQ,GAAG,eAAe,CAAC,KAAK,CAAC;YACrC,IAAI,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;YAC3D,IAAI,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC;YAC7D,IAAI,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;YAC3D,IAAI,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;YACrD,IAAI,iBAAiB,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC;YACjE,IAAI,qBAAqB,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC;YAEzE,IAAI,OAAO,yGACJ,QAAQ,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,OAAO,IAAI,EAAE,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,EAAE,GAC/E,cAAc,KAAK,EAAE,IAAI,EAAE,cAAc,EAAE,GAC3C,eAAe,KAAK,EAAE,IAAI,EAAE,eAAe,EAAE,GAC7C,cAAc,KAAK,EAAE,IAAI,EAAE,cAAc,EAAE,GAC3C,WAAW,KAAK,EAAE,IAAI,EAAE,WAAW,EAAE,GACrC,iBAAiB,KAAK,KAAK,IAAI,EAAE,iBAAiB,EAAE,GACpD,qBAAqB,KAAK,KAAK,IAAI,EAAE,qBAAqB,EAAE,CAClE,CAAC;YAEF,IAAI,CAAC,KAAK,GAAG,CAAC,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,CAAC;iBAC5D,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,8DAAa,CAAC,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;QAC5H,CAAC;KAAA;IAEO,UAAU;QACd,IAAI,CAAC,OAAO,GAAG,IAAI,8DAAa,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QACzE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACrC,CAAC;IAEK,IAAI,CAAC,IAAmB;;YAC1B,IAAI,OAAO,CAAC;YACZ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;gBACvB,IAAI,CAAC,GAAG,IAAI,4DAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;gBACvJ,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,KAAK,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;gBACzE,IAAI;oBACA,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,SAAS,EAAE,CAAC;iBACvE;gBACD,OAAO,CAAC,EAAE;oBACN,IAAI,CAAC,YAAY,wGAAwB,EAAE;wBACvC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,QAAQ,2BAA2B,EAAE,mEAAS,CAAC,KAAK,CAAC,CAAC;wBACrG,OAAO;qBACV;oBACD,MAAM,CAAC,CAAC;iBACX;aACJ;iBACI;gBACD,IAAI,CAAC,GAAG,IAAI,4DAAI,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;gBACxI,IAAI;oBACA,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,EAAE,CAAC;iBACzE;gBACD,OAAO,CAAC,EAAE;oBACN,IAAI,CAAC,YAAY,wGAAwB,EAAE;wBACvC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,QAAQ,2BAA2B,EAAE,mEAAS,CAAC,KAAK,CAAC,CAAC;wBACrG,OAAO;qBACV;oBACD,MAAM,CAAC,CAAC;iBACX;aACJ;YACD,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACxB,IAAI,CAAC,eAAe,EAAE,CAAC;QAC3B,CAAC;KAAA;IAED,OAAO,CAAC,IAAmB;QACvB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI;YACrB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;;YAE/C,IAAI,CAAC,eAAe,EAAE,CAAC;IAC/B,CAAC;IAEK,MAAM,CAAC,IAAmB;;YAC5B,IAAI;gBACA,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC;gBACzD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;aAClD;YACD,OAAO,CAAC,EAAE;gBACN,IAAI,CAAC,YAAY,0GAAyB,EAAE;oBACxC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,gDAAgD,EAAE,mEAAS,CAAC,KAAK,CAAC,CAAC;oBAC1F,OAAO;iBACV;gBACD,MAAM,CAAC,CAAC;aACX;QACL,CAAC;KAAA;IAED,OAAO;QACH,IAAI,CAAC,KAAK;aACL,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;aACxB,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IACpC,CAAC;IAED,UAAU;QACN,IAAI,CAAC,KAAK;aACL,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,QAAQ,KAAK,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC;aACrE,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IACvC,CAAC;IAEO,iBAAiB,CAAC,OAAwB;QAC9C,IAAI,wBAAwB,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;YAC5C,OAAO,IAAI,CAAC;;YAEZ,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;IACnC,CAAC;IAED,MAAM;QACF,IAAI,QAAQ,GAAG,CAAC,CAAC;QACjB,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9C,OAAO,CAAC,IAAI,GAAG,MAAM,CAAC;QACtB,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,GAAG,EAAE;YACpC,IAAI,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;YAC9B,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YACjC,MAAM,CAAC,MAAM,GAAG,GAAG,EAAE;gBACjB,IAAI,MAAM,GAAW,MAAM,CAAC,MAAM,CAAC;gBACnC,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;gBAErC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACnC,IAAI,aAAa,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACxC,IAAI,aAAa,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,MAAM,IAAI,aAAa,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,MAAM,IAAI,aAAa,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,EAAE;wBACzJ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,mEAAS,CAAC,KAAK,CAAC,CAAC;wBACrE,QAAQ,EAAE,CAAC;qBACd;yBACI;wBACD,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;qBACpC;iBACJ;gBACD,IAAI,QAAQ,IAAI,CAAC,EAAE;oBACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBACnC,IAAI,YAAY,GAAG,YAAY,CAAC,GAAG,EAAE,CAAC;wBACtC,IAAI,QAAQ,GAAG,IAAI,8DAAa,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE,YAAY,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC;wBACpL,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;qBAChC;iBACJ;YACL,CAAC;QACL,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,KAAK,EAAE,CAAC;IACpB,CAAC;IAEK,MAAM;;YACR,IAAI,MAAM,GAAG,EAAE,CAAC;YAChB,IAAI,SAAS,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,SAAS,EAAE,CAAC;YAC5D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACvC,IAAI,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,IAAI,CAAC;oBACN,MAAM,IAAI,IAAI,CAAC;gBACnB,MAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC;gBAC5B,MAAM,IAAI,GAAG,CAAC;gBACd,MAAM,IAAI,QAAQ,CAAC,SAAS,CAAC;gBAC7B,MAAM,IAAI,GAAG,CAAC;gBACd,MAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC;gBAC5B,MAAM,IAAI,GAAG,CAAC;gBACd,MAAM,IAAI,QAAQ,CAAC,KAAK,CAAC;gBACzB,MAAM,IAAI,GAAG,CAAC;gBACd,MAAM,IAAI,QAAQ,CAAC,WAAW,CAAC;gBAC/B,MAAM,IAAI,GAAG,CAAC;gBACd,MAAM,IAAI,QAAQ,CAAC,eAAe,CAAC;aACtC;YACD,IAAI,CAAC,YAAY,CAAC,iCAAiC,EAAE,IAAI,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC7E,CAAC;KAAA;IAEO,YAAY,CAAC,QAAgB,EAAE,IAAU;QAC7C,IAAI,GAAG,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAEpC,IAAI,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAC9C,WAAW,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAChC,WAAW,CAAC,IAAI,GAAG,GAAG,CAAC;QAEvB,WAAW,CAAC,KAAK,EAAE,CAAC;QAEpB,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;IAC7B,CAAC;;4EArPQ,cAAc;8FAAd,cAAc;QCf3B,yEAAuC;QACnC,wEAA4B;QAAA,8EAAS;QAAA,4DAAK;QAC1C,4EAAyD;QAAnB,sIAAS,YAAQ,IAAC;QAAC,qEAAU;QAAA,4DAAS;QAC5E,4EAA6D;QAAnB,sIAAS,YAAQ,IAAC;QAAC,qEAAU;QAAA,4DAAS;QACpF,4DAAM;QACN,2EAA+C;QAC3C,wEAAO;QACH,wEAA6B;QACzB,yEAAgD;QAC5C,gEACA;QAAA,uEAAmH;QACvH,4DAAK;QACL,yEAAkD;QAC9C,8FACA;QAAA,uEAAmF;QACvF,4DAAK;QACL,0EAA4D;QAAA,iEAAK;QAAA,4DAAK;QACtE,yEAAkD;QAC9C,wEACA;QAAA,wEAAoF;QACxF,4DAAK;QACL,yEAAkD;QAC9C,qFACA;QAAA,wEAAmF;QACvF,4DAAK;QACL,yEAAkD;QAC9C,mEACA;QAAA,wEAAgF;QACpF,4DAAK;QACL,0EAAgC;QAC5B,4EACA;QAAA,2EAAoC;QAChC,wEACkD;QACtD,4DAAM;QACV,4DAAK;QACL,0EAAgC;QAC5B,gFACA;QAAA,2EAAoC;QAChC,wEACsD;QAC1D,4DAAM;QACV,4DAAK;QACL,0EAA4C;QACxC,6EAAsE;QAAA,wDAAe;QAAA,4DAAQ;QAC7F,8EACwB;QAApB,uIAAS,aAAS,IAAC;QAAC,uEAAM;QAAA,4DAAS;QACvC,8EAC2B;QAAvB,uIAAS,gBAAY,IAAC;QAAC,mEAAO;QAAA,4DAAS;QAC/C,4DAAK;QACL,qEAAqC;QACzC,4DAAK;QACT,4DAAQ;QACR,yEAAO;QACH,6GAoDK;QACT,4DAAQ;QACZ,4DAAQ;QACR,6GAIM;QACN,6GAEM;QACN,6GAEM;;QAhHM,0DAAwB;QAAxB,qFAAwB;QAGyD,0DAAqC;QAArC,6FAAqC;QAkC5C,2DAAe;QAAf,gFAAe;QAC7E,0DAA+B;QAA/B,uFAA+B;QAAC,qFAAwB;QAExD,0DAA+B;QAA/B,uFAA+B;QAO1B,0DAAQ;QAAR,8EAAQ;QAuD/B,0DAAyB;QAAzB,yFAAyB;QAKzB,0DAA6D;QAA7D,qIAA6D;QAG7D,0DAA4D;QAA5D,oIAA4D;;;;;;;;;;;;;;ACrHlE;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACfnE;AAAA;AAAO,MAAM,IAAI;IACb,YACoB,EAAU,EACV,QAAgB,EAChB,SAAiB,EACjB,QAAgB,EAChB,KAAa,EACb,WAAoB,EACpB,eAAwB;QANxB,OAAE,GAAF,EAAE,CAAQ;QACV,aAAQ,GAAR,QAAQ,CAAQ;QAChB,cAAS,GAAT,SAAS,CAAQ;QACjB,aAAQ,GAAR,QAAQ,CAAQ;QAChB,UAAK,GAAL,KAAK,CAAQ;QACb,gBAAW,GAAX,WAAW,CAAS;QACpB,oBAAe,GAAf,eAAe,CAAS;IACxC,CAAC;CACR;;;;;;;;;;;;;ACRD;AAAA;AAAO,MAAM,KAAK;IACd,YACoB,OAAe,EACf,IAAe;QADf,YAAO,GAAP,OAAO,CAAQ;QACf,SAAI,GAAJ,IAAI,CAAW;IAC/B,CAAC;CACR;;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuD;AACS;AACa;;;AAE7E,MAAM,MAAM,GAAW;IACnB,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,2EAAc,EAAE,WAAW,EAAE,CAAC,yFAAmB,CAAC,EAAE;IAChF,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE;CACtC,CAAC;AAMK,MAAM,gBAAgB;;gFAAhB,gBAAgB;+FAAhB,gBAAgB;mGAHhB,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAC7B,4DAAY;mIAEb,gBAAgB,uFAFf,4DAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZgC;AACb;AACQ;AACsB;AACjB;AACM;AACP;AACM;AACsF;AACvE;AACrC;AACkD;AACP;AACP;AAC0B;AACvC;;AAEzD,SAAS,oBAAoB,CAAC,oBAA0C;IAC3E,OAAO,GAAS,EAAE,CAAC,0GAAM,oBAAoB,CAAC,SAAS,EAAE,KAAC;AAC9D,CAAC;AAwDM,MAAM,SAAS;;kEAAT,SAAS;wFAAT,SAAS,cAFN,qEAAY;6FApCb;QACP;YACI,OAAO,EAAE,sEAAiB;YAC1B,QAAQ,EAAE,oHAA8B;YACxC,KAAK,EAAE,IAAI;SACd;QACD;YACI,OAAO,EAAE,6DAAe;YACxB,UAAU,EAAE,oBAAoB;YAChC,IAAI,EAAE,CAAC,6EAAoB,CAAC;YAC5B,KAAK,EAAE,IAAI;SACd;QACD;YACI,OAAO,EAAE,sDAAO;YAChB,QAAQ,EAAE,wBAAwB;SACrC;QACD;YACI,OAAO,EAAE,0FAAW;YACpB,QAAQ,EAAE,qCAAqC;SAClD;QACD;YACI,OAAO,EAAE,iGAAY;YACrB,QAAQ,EAAE,sCAAsC;SACnD;QACD;YACI,OAAO,EAAE,oGAAe;YACxB,QAAQ,EAAE,oBAAoB;SACjC;QACD;YACI,OAAO,EAAE,yGAAoB;YAC7B,QAAQ,EAAE,qBAAqB;SAClC;KACJ,YAvCQ;YACL,uEAAa;YACb,0DAAW;YACX,kEAAmB;YACnB,qEAAgB;YAChB,4EAAgB;SACnB;mIAuCQ,SAAS,mBApDd,qEAAY;QACZ,2EAAc;QACd,4GAAuB;QACvB,0FAAkB;QAClB,wGAAsB;QACtB,iGAAmB,aAGnB,uEAAa;QACb,0DAAW;QACX,kEAAmB;QACnB,qEAAgB;QAChB,4EAAgB;;;;;;;;;;;;;ACnCxB;AAAA;AAAA,IAAY,SAIX;AAJD,WAAY,SAAS;IACjB,yCAAI;IACJ,+CAAO;IACP,2CAAK;AACT,CAAC,EAJW,SAAS,KAAT,SAAS,QAIpB;;;;;;;;;;;;;ACDD;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0C;;;;;ICH1C,sEAAgG;IAC5F,uDACJ;IAAA,4DAAM;;;;IAFkC,iHAAuD;IAC3F,0DACJ;IADI,6FACJ;;ADQO,MAAM,kBAAkB;IAgB3B,YAA6B,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAEvD,CAAC;IAjBD,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;IACpC,CAAC;IAED,aAAa,CAAC,KAAY;QACtB,QAAQ,KAAK,CAAC,IAAI,EAAE;YAChB,KAAK,qDAAS,CAAC,OAAO;gBAClB,OAAO,eAAe,CAAC;YAC3B,KAAK,qDAAS,CAAC,KAAK;gBAChB,OAAO,cAAc,CAAC;YAC1B;gBACI,OAAO,YAAY,CAAC;SAC3B;IACL,CAAC;;oFAdQ,kBAAkB;kGAAlB,kBAAkB;QCV/B,8GAEM;;QAFiB,qFAAe;;;;;;;;;;;;;;ACAtC;AAAA;AAAO,MAAM,yBAA0B,SAAQ,KAAK;CAEnD;;;;;;;;;;;;;ACFD;AAAA;AAAA;AAA0H;;;AAOnH,MAAM,sBAAsB;IALnC;QAWI,UAAK,GAAG,IAAI,0DAAY,EAAW,CAAC;QAIpC,cAAS,GAAG,KAAK,CAAC;KASrB;IAPG,eAAe;QACX,aAAa;QACb,IAAI,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QAE/C,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACvB,YAAY,CAAC,EAAE,CAAC,iBAAiB,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;IAC9E,CAAC;;4FAlBQ,sBAAsB;sGAAtB,sBAAsB;;;;;;QCPnC,4EAA8E;QAC1E,yEAA0C;QACtC,yEAA2B;QACvB,yEAA0B;QACtB,wEAAwB;QAAA,uDAAS;QAAA,4DAAK;QACtC,4EAA4E;QACxE,0EAAyB;QAAA,iEAAO;QAAA,4DAAO;QAC3C,4DAAS;QACb,4DAAM;QACN,0EAAwB;QAAA,wDAAW;QAAA,4DAAM;QACzC,0EAA0B;QACtB,8EAAkE;QAAA,8DAAE;QAAA,4DAAS;QAC7E,8EAA8F;QAA3B,+JAAqB,IAAI,IAAC;QAAC,+DAAG;QAAA,4DAAS;QAC9G,4DAAM;QACV,4DAAM;QACV,4DAAM;QACV,4DAAM;;QAZkC,0DAAS;QAAT,0EAAS;QAKb,0DAAW;QAAX,4EAAW;;;;;;;;;;;;;;ACP/C;AAAA;AAAO,MAAM,aAAa;IACtB,YACW,QAAc,EACd,WAAmB,EACnB,WAAmB,EACnB,YAAoB,EACpB,WAAmB,EACnB,QAAgB,EAChB,cAAuB,EACvB,kBAA2B;QAP3B,aAAQ,GAAR,QAAQ,CAAM;QACd,gBAAW,GAAX,WAAW,CAAQ;QACnB,gBAAW,GAAX,WAAW,CAAQ;QACnB,iBAAY,GAAZ,YAAY,CAAQ;QACpB,gBAAW,GAAX,WAAW,CAAQ;QACnB,aAAQ,GAAR,QAAQ,CAAQ;QAChB,mBAAc,GAAd,cAAc,CAAS;QACvB,uBAAkB,GAAlB,kBAAkB,CAAS;IAClC,CAAC;IAEL,IAAI,SAAS;QACT,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;YACvB,OAAO,IAAI,CAAC,WAAW,KAAK,EAAE,IAAI,IAAI,CAAC,WAAW,KAAK,EAAE,IAAI,IAAI,CAAC,YAAY,KAAK,EAAE,IAAI,IAAI,CAAC,WAAW,KAAK,EAAE,IAAI,IAAI,CAAC,QAAQ,KAAK,EAAE;gBACpI,IAAI,CAAC,cAAc,KAAK,KAAK,IAAG,IAAI,CAAC,kBAAkB,KAAK,KAAK,CAAC;SACzE;aACI;YACD,OAAO,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,IAAI,CAAC,WAAW,KAAK,EAAE,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC,QAAQ,CAAC,SAAS;gBAC9H,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC,QAAQ,CAAC,WAAW;gBACzI,IAAI,CAAC,kBAAkB,KAAK,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;SAC7D;IACL,CAAC;IAED,IAAI,eAAe;QACf,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;IACvC,CAAC;IAED,IAAI,eAAe;QACf,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,IAAI,IAAI,CAAC,WAAW,KAAK,EAAE,CAAC,CAAC;IAC/F,CAAC;IAED,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,QAAQ,KAAK,EAAE,IAAI,wJAAwJ;aAClL,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC7B,CAAC;IAED,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,YAAY,CAAC;IAC7E,CAAC;IAED,eAAe;QACX,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE;YACxB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC1C,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;YAC5C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC1C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;YACpC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;YAChD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;SAC3D;aAAM;YACH,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;SACnC;IACL,CAAC;CACJ;;;;;;;;;;;;;AC5DD;AAAA;AAAA;AAAA;AAAA;AAAmE;;;AAG5D,MAAM,WAAW,GAAG,IAAI,4DAAc,CAAS,mBAAmB,CAAC,CAAC;AAKpE,MAAM,mBAAmB;IAC5B,YAA6B,aAA4B,EAAwC,SAAiB;QAArF,kBAAa,GAAb,aAAa,CAAe;QAAwC,cAAS,GAAT,SAAS,CAAQ;IAElH,CAAC;IAED,WAAW,CAAC,KAA6B,EAAE,KAA0B;QACjE,IAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,KAAK,IAAI,CAAC;QAEtD,IAAI,CAAC,QAAQ;YACT,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,GAAG,eAAe,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;QAEnF,OAAO,QAAQ,CAAC;IACpB,CAAC;;sFAZQ,mBAAmB,qMACuC,WAAW;sGADrE,mBAAmB,WAAnB,mBAAmB,mBAFhB,MAAM;;;;;;;;;;;;;;;;;;;ACRyB;AAGF;AACY;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,CAAC,eAAe,CAAC,yDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;ACXpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,qC","file":"main-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { AlertType } from './alert-type';\r\nimport { Alert } from './alert';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AlertService {\r\n    readonly active: Alert[] = [];\r\n\r\n    show(message: string, type: AlertType = AlertType.info) {\r\n        let alert = new Alert(message, type);\r\n        this.active.push(alert);\r\n\r\n        setTimeout(() => this.active.shift(), 2000);\r\n    }\r\n}\r\n","import { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class WithCredentialsHttpInterceptor implements HttpInterceptor {\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        let requestWithCredentials = request.clone({\r\n            withCredentials: true\r\n        });\r\n        \r\n        return next.handle(requestWithCredentials);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { UserService } from './core/users/user.service';\r\nimport { SignInService } from './core/sign-in/sign-in.service';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AppInitializeService {\r\n    constructor(private readonly userService: UserService, private readonly signInService: SignInService) {\r\n\r\n    }\r\n\r\n    async intialize() {\r\n        let user = await this.userService.getSignedIn().toPromise();\r\n        if (user !== null)\r\n            this.signInService.signIn(user);\r\n    }\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { User } from '../users/user';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class SignInService {\r\n    readonly signedUserChanged = new EventEmitter();\r\n\r\n    private _signedUser: User = null;\r\n\r\n    get signedUser(): User {\r\n        return this._signedUser;\r\n    }\r\n\r\n    signIn(user: User) {\r\n        this._signedUser = user;\r\n        this.signedUserChanged.emit();\r\n    }\r\n\r\n    signOut() {\r\n        this._signedUser = null;\r\n        this.signedUserChanged.emit();\r\n    }\r\n}\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport const API_URL = new InjectionToken<string>(\"Url of api root.\");","import { Component, InjectionToken, Inject } from '@angular/core';\r\nimport { User } from 'src/app/core/users/user';\r\nimport { SignInService } from 'src/app/core/sign-in/sign-in.service';\r\nimport { Location } from '@angular/common';\r\n\r\nexport const SIGN_OUT_URL = new InjectionToken<string>(\"Sign out page url.\");\r\nexport const USER_MODULE_URL = new InjectionToken<string>(\"User module root page url.\");\r\nexport const LIBRARIAN_MODULE_URL = new InjectionToken<string>(\"Librarian module root page url.\");\r\n\r\n@Component({\r\n    selector: 'app-main-navigation',\r\n    templateUrl: './main-navigation.component.html',\r\n    styleUrls: ['./main-navigation.component.scss']\r\n})\r\nexport class MainNavigationComponent {\r\n    get signedUser(): User {\r\n        return this.signInService.signedUser;\r\n    }\r\n\r\n    constructor(private readonly signInService: SignInService, @Inject(SIGN_OUT_URL) private readonly signOutUrl: string, \r\n        @Inject(USER_MODULE_URL) readonly userModuleUrl: string, @Inject(LIBRARIAN_MODULE_URL) readonly librarianModuleUrl: string, \r\n        private readonly location: Location) {\r\n    }\r\n\r\n    signOut() {\r\n        this.signInService.signOut();\r\n        window.location.href = this.signOutUrl + \"?redirectUrl=\" + this.userModuleUrl;\r\n    }\r\n}\r\n","<nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n    <a class=\"navbar-brand\" routerLink=\"/\">Knihovna SPŠ Trutnov</a>\r\n    <ng-container *ngIf=\"signedUser !== null\">\r\n        <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\"\r\n            aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse justify-content-end\" id=\"navbarNavAltMarkup\">\r\n            <div class=\"navbar-nav\">\r\n                <a class=\"nav-item nav-link\" routerLink=\"/users\" routerLinkActive=\"active\">\r\n                    <i class=\"fas fa-user-friends\"></i>\r\n                    Uživatelé\r\n                </a>\r\n                <a class=\"nav-item nav-link\" href=\"{{userModuleUrl}}\">\r\n                    <i class=\"fas fa-book\"></i>\r\n                    Uživatel\r\n                </a>\r\n                <a *ngIf=\"signedUser.isLibrarian\" class=\"nav-item nav-link\" href=\"{{librarianModuleUrl}}\">\r\n                    <i class=\"fas fa-book-medical\"></i>\r\n                    Knihovník\r\n                </a>\r\n                <div class=\"dropdown\">\r\n                    <button class=\"btn btn-link dropdown-toggle nav-item nav-link active text-left border-0\"\r\n                        role=\"button\" id=\"userDropdownMenuLink\" data-toggle=\"dropdown\" aria-haspopup=\"true\"\r\n                        aria-expanded=\"false\">\r\n                        <i class=\"fas fa-user\"></i>\r\n                        {{signedUser.userName}}\r\n                    </button>\r\n\r\n                    <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"userDropdownMenuLink\">\r\n                        <a class=\"dropdown-item btn btn-link pl-3\" (click)=\"signOut()\">\r\n                            <i class=\"fas fa-sign-out-alt pr-1\"></i>\r\n                            Odhlásit se\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nav>","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-root',\r\n    templateUrl: './app.component.html',\r\n    styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n\r\n}\r\n","<app-main-navigation></app-main-navigation>\r\n<router-outlet class=\"router-outlet-flex-grow-1\"></router-outlet>\r\n<app-main-footer></app-main-footer>\r\n    \r\n<div class=\"fixed-top p-5 alert-view-container\">\r\n    <app-alert-view></app-alert-view>\r\n</div>","export class UserNameAlreadyUsedError extends Error {\r\n    \r\n}","import { Injectable, Inject } from '@angular/core';\r\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable, throwError, of } from 'rxjs';\r\nimport { map, catchError } from 'rxjs/operators';\r\nimport { User } from './user';\r\nimport { UserNameAlreadyUsedError } from './user-name-already-used-error';\r\nimport { API_URL } from '../api/api';\r\nimport { UserHasActiveBorrowsError } from './user-has-active-borrows-error';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class UserService {\r\n    public constructor(private readonly httpClient: HttpClient, @Inject(API_URL) private readonly apiUrl: string) {\r\n\r\n    }\r\n\r\n    getAll(options: { idFilter?: number, userNameFilter?: string, firstNameFilter?: string, lastNameFilter?: string, emailFilter?: string, \r\n        isLibrarianFilter?: boolean, isAdministratorFilter?: boolean } = {}): Observable<User[]> {\r\n        let parameters = {\r\n            ...options.idFilter !== undefined && { \"id-filter\": options.idFilter.toString() },\r\n            ...options.userNameFilter !== undefined && { \"user-name-filter\": options.userNameFilter },\r\n            ...options.firstNameFilter !== undefined && { \"first-name-filter\": options.firstNameFilter },\r\n            ...options.lastNameFilter !== undefined && { \"last-name-filter\": options.lastNameFilter },\r\n            ...options.emailFilter !== undefined && { \"email-filter\": options.emailFilter },\r\n            ...options.isLibrarianFilter !== undefined && { \"is-librarian-filter\": options.isLibrarianFilter.toString() },\r\n            ...options.isAdministratorFilter !== undefined && { \"is-administrator-filter\": options.isAdministratorFilter.toString() }\r\n        };\r\n\r\n        return this.httpClient.get<User[]>(`${this.apiUrl}/users/index.php`, { params: parameters }).pipe(\r\n            map(u => u.map(u => new User(u.id, u.userName, u.firstName, u.lastName, u.email, u.isLibrarian, u.isAdministrator)))\r\n        );\r\n    }\r\n\r\n    getById(id: number): Observable<User> {\r\n        return this.httpClient.get<User>(`${this.apiUrl}/users/index.php?id=${id}`).pipe(\r\n            map(u => new User(u.id, u.userName, u.firstName, u.lastName, u.email, u.isLibrarian, u.isAdministrator))\r\n        );\r\n    }\r\n\r\n    getSignedIn(): Observable<User> {\r\n        return this.httpClient.get<User>(`${this.apiUrl}/users/index.php?id=`).pipe(\r\n            catchError((e: HttpErrorResponse) => e.status === 401 ? of(null) : throwError(e)),\r\n            map(u => u === null ? null : new User(u.id, u.userName, u.firstName, u.lastName, u.email, u.isLibrarian, u.isAdministrator))\r\n        );\r\n    }\r\n\r\n    add(user: User, password: string): Observable<User> {\r\n        let { id, ...withoutId } = user;\r\n        let withPassword = { ...withoutId, password };\r\n\r\n        return this.httpClient.post<User>(`${this.apiUrl}/users/index.php`, withPassword).pipe(\r\n            catchError((e: HttpErrorResponse) => e.status === 409 ? throwError(new UserNameAlreadyUsedError()) : throwError(e)),\r\n            map(u => new User(u.id, u.userName, u.firstName, u.lastName, u.email, u.isLibrarian, u.isAdministrator))\r\n        );\r\n    }\r\n\r\n    update(user: User, password: string | undefined): Observable<User> {\r\n        let userData = password === undefined ? user : { ...user, password };\r\n\r\n        return this.httpClient.put<User>(`${this.apiUrl}/users/index.php?id=${user.id}`, userData).pipe(\r\n            catchError((e: HttpErrorResponse) => e.status === 409 ? throwError(new UserNameAlreadyUsedError()) : throwError(e)),\r\n            map(u => new User(u.id, u.userName, u.firstName, u.lastName, u.email, u.isLibrarian, u.isAdministrator))\r\n        );\r\n    }\r\n\r\n    remove(user: User): Observable<any> {\r\n        return this.httpClient.delete(`${this.apiUrl}/users/index.php?id=${user.id}`).pipe(\r\n            catchError((e: HttpErrorResponse) => e.status === 409 ? throwError(new UserHasActiveBorrowsError()) : throwError(e)),\r\n        )\r\n    }\r\n}","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-main-footer',\r\n    templateUrl: './main-footer.component.html',\r\n    styleUrls: ['./main-footer.component.scss']\r\n})\r\nexport class MainFooterComponent {\r\n\r\n}\r\n","<div class=\"p-1 pr-2 text-muted text-right text-sm\">\r\n    <small>\r\n        Administrace knihovny\r\n        <a href=\"https://www.spstrutnov.cz\" target=\"_blank\">SPŠ Trutnov</a>\r\n    </small>\r\n</div>","import { Component, OnInit, OnChanges, SimpleChanges, DoCheck } from '@angular/core';\r\nimport { UserService } from 'src/app/core/users/user.service';\r\nimport { User } from 'src/app/core/users/user';\r\nimport { UserViewModel } from './user-view-model';\r\nimport { AlertService } from 'src/app/alerts/alert.service';\r\nimport { AlertType } from 'src/app/alerts/alert-type';\r\nimport { UserNameAlreadyUsedError } from 'src/app/core/users/user-name-already-used-error';\r\nimport { FormGroup, FormControl, Validators, ValidationErrors, AbstractControl } from '@angular/forms';\r\nimport { UserHasActiveBorrowsError } from 'src/app/core/users/user-has-active-borrows-error';\r\n\r\n@Component({\r\n    selector: 'app-users',\r\n    templateUrl: './users.component.html',\r\n    styleUrls: ['./users.component.scss']\r\n})\r\nexport class UsersComponent implements OnInit, DoCheck {\r\n    users: UserViewModel[];\r\n    newUser: UserViewModel;\r\n\r\n    filterForm = new FormGroup({\r\n        id: new FormControl(\"\", this.idFilterValidator),\r\n        userName: new FormControl(\"\"),\r\n        firstName: new FormControl(\"\"),\r\n        lastName: new FormControl(\"\"),\r\n        email: new FormControl(\"\"),\r\n        isLibrarian: new FormControl(false),\r\n        isAdministrator: new FormControl(false)\r\n    });\r\n\r\n    get hasChanges(): boolean {\r\n        return this.users !== undefined && this.users.some(u => (u.isChanged || u.original === null) && u !== this.newUser)\r\n    }\r\n\r\n    get isAllValid(): boolean {\r\n        return this.users === undefined || this.users.every(u => u.isValid || u === this.newUser);\r\n    }\r\n\r\n    get isFiltred(): boolean {\r\n        return this.filterForm.get(\"id\").value != \"\" || this.filterForm.get(\"userName\").value != \"\" || this.filterForm.get(\"firstName\").value != \"\" ||\r\n            this.filterForm.get(\"lastName\").value != \"\" || this.filterForm.get(\"email\").value != \"\" || this.filterForm.get(\"isLibrarian\").value != false ||\r\n            this.filterForm.get(\"isAdministrator\").value != false;\r\n    }\r\n\r\n    get isIdFilterValid(): boolean {\r\n        return !this.filterForm.get(\"id\").invalid;\r\n    }\r\n\r\n    get changesText(): string {\r\n        if (this.users === undefined)\r\n            return \"\";\r\n\r\n        let changesCount = this.users\r\n            .filter(u => u.isChanged)\r\n            .length;\r\n\r\n        if (changesCount === 0)\r\n            return \"\";\r\n        else if (changesCount === 1)\r\n            return `${changesCount} změna.`;\r\n        else if (changesCount > 1 && changesCount < 5)\r\n            return `${changesCount} změny.`;\r\n        else\r\n            return `${changesCount} změn.`;\r\n    }\r\n\r\n    constructor(private readonly userService: UserService, private readonly alertService: AlertService) {\r\n        this.filterForm.valueChanges.subscribe(async () => {\r\n            this.users = undefined;\r\n\r\n            await this.refreshUsers();\r\n\r\n            if (!this.isFiltred)\r\n                this.addNewUser();\r\n        });\r\n    }\r\n\r\n    async ngOnInit() {\r\n        await this.refreshUsers();\r\n        this.addNewUser();\r\n    }\r\n\r\n    ngDoCheck() {\r\n        if (this.newUser != undefined && this.newUser.isChanged)\r\n            this.addNewUser();\r\n\r\n        if (this.hasChanges)\r\n            this.filterForm.disable({ emitEvent: false });\r\n        else\r\n            this.filterForm.enable({ emitEvent: false });\r\n    }\r\n\r\n    private async refreshUsers() {\r\n        let idFilterControl = this.filterForm.get(\"id\");\r\n        let idFilter = idFilterControl.value;\r\n        let userNameFilter = this.filterForm.get(\"userName\").value;\r\n        let firstNameFilter = this.filterForm.get(\"firstName\").value;\r\n        let lastNameFilter = this.filterForm.get(\"lastName\").value;\r\n        let emailFilter = this.filterForm.get(\"email\").value;\r\n        let isLibrarianFilter = this.filterForm.get(\"isLibrarian\").value;\r\n        let isAdministratorFilter = this.filterForm.get(\"isAdministrator\").value;\r\n\r\n        let options = {\r\n            ...idFilter !== \"\" && !idFilterControl.invalid && { idFilter: parseInt(idFilter) },\r\n            ...userNameFilter !== \"\" && { userNameFilter },\r\n            ...firstNameFilter !== \"\" && { firstNameFilter },\r\n            ...lastNameFilter !== \"\" && { lastNameFilter },\r\n            ...emailFilter !== \"\" && { emailFilter },\r\n            ...isLibrarianFilter !== false && { isLibrarianFilter },\r\n            ...isAdministratorFilter !== false && { isAdministratorFilter }\r\n        };\r\n\r\n        this.users = (await this.userService.getAll(options).toPromise())\r\n            .map(u => new UserViewModel(u, u.userName, \"\", u.firstName, u.lastName, u.email, u.isLibrarian, u.isAdministrator));\r\n    }\r\n\r\n    private addNewUser() {\r\n        this.newUser = new UserViewModel(null, \"\", \"\", \"\", \"\", \"\", false, false);\r\n        this.users.unshift(this.newUser);\r\n    }\r\n\r\n    async save(user: UserViewModel) {\r\n        let newUser;\r\n        if (user.original != null) {\r\n            let u = new User(user.original.id, user.newUserName, user.newFirstName, user.newLastName, user.newEmail, user.newIsLibrarian, user.newIsAdministrator);\r\n            let newPassword = user.newPassword === \"\" ? undefined : user.newPassword;\r\n            try {\r\n                newUser = await this.userService.update(u, newPassword).toPromise();\r\n            }\r\n            catch (e) {\r\n                if (e instanceof UserNameAlreadyUsedError) {\r\n                    this.alertService.show(`Uživatelské jméno '${u.userName}' již používá někdo jiný.`, AlertType.error);\r\n                    return;\r\n                }\r\n                throw e;\r\n            }\r\n        }\r\n        else {\r\n            let u = new User(0, user.newUserName, user.newFirstName, user.newLastName, user.newEmail, user.newIsLibrarian, user.newIsAdministrator);\r\n            try {\r\n                newUser = await this.userService.add(u, user.newPassword).toPromise();\r\n            }\r\n            catch (e) {\r\n                if (e instanceof UserNameAlreadyUsedError) {\r\n                    this.alertService.show(`Uživatelské jméno '${u.userName}' již používá někdo jiný.`, AlertType.error);\r\n                    return;\r\n                }\r\n                throw e;\r\n            }\r\n        }\r\n        user.original = newUser;\r\n        user.resetToOriginal();\r\n    }\r\n\r\n    discard(user: UserViewModel) {\r\n        if (user.original == null)\r\n            this.users.splice(this.users.indexOf(user), 1);\r\n        else\r\n            user.resetToOriginal();\r\n    }\r\n\r\n    async remove(user: UserViewModel) {\r\n        try {\r\n            await this.userService.remove(user.original).toPromise();\r\n            this.users.splice(this.users.indexOf(user), 1);\r\n        }\r\n        catch (e) {\r\n            if (e instanceof UserHasActiveBorrowsError) {\r\n                this.alertService.show(\"Nelze smazat uživatele s aktivními výpůjčkami.\", AlertType.error);\r\n                return;\r\n            }\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    saveAll() {\r\n        this.users\r\n            .filter(u => u.isChanged)\r\n            .forEach(u => this.save(u));\r\n    }\r\n\r\n    discardAll() {\r\n        this.users\r\n            .filter(u => u.isChanged || u.original === null && u !== this.newUser)\r\n            .forEach(u => this.discard(u));\r\n    }\r\n\r\n    private idFilterValidator(control: AbstractControl): ValidationErrors | null {\r\n        if (/^(0|(-?[1-9][0-9]*)|)$/.test(control.value))\r\n            return null;\r\n        else\r\n            return { invalidId: true };\r\n    }\r\n\r\n    import() {\r\n        let kontrola = 0;\r\n        let validniRadky = [];\r\n        let element = document.createElement(\"input\");\r\n        element.type = \"file\";\r\n        element.addEventListener(\"change\", () => {\r\n            let file = element.files[0];\r\n            let reader = new FileReader();\r\n            reader.readAsText(file, \"UTF-8\");\r\n            reader.onload = () => {\r\n                let soubor = <string>reader.result;\r\n                let radky = soubor.split(/\\r\\n?|\\n/);\r\n\r\n                for (let i = 0; i < radky.length; i++) {\r\n                    let atributyUsera = radky[i].split(\",\");\r\n                    if (atributyUsera.length != 7 || (atributyUsera[5] != \"true\" && atributyUsera[5] != \"false\") || (atributyUsera[6] != \"true\" && atributyUsera[6] != \"false\")) {\r\n                        this.alertService.show(\"Chyba na řádku \" + (i + 1), AlertType.error);\r\n                        kontrola++;\r\n                    }\r\n                    else {\r\n                        validniRadky.push(atributyUsera);\r\n                    }\r\n                }\r\n                if (kontrola == 0) {\r\n                    for (let i = 0; i < radky.length; i++) {\r\n                        let validniRadek = validniRadky.pop();\r\n                        let uzivatel = new UserViewModel(null, validniRadek[0], validniRadek[1], validniRadek[2], validniRadek[3], validniRadek[4], validniRadek[5] === \"true\", validniRadek[6] === \"true\");\r\n                        this.users.unshift(uzivatel);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        element.click();\r\n    }\r\n\r\n    async export() {\r\n        let soubor = \"\";\r\n        let uzivatele = await this.userService.getAll().toPromise();\r\n        for (let i = 0; i < uzivatele.length; i++) {\r\n            let uzivatel = uzivatele[i];\r\n            if (i != 0)\r\n                soubor += \"\\n\";\r\n            soubor += uzivatel.userName;\r\n            soubor += \",\";\r\n            soubor += uzivatel.firstName;\r\n            soubor += \",\";\r\n            soubor += uzivatel.lastName;\r\n            soubor += \",\";\r\n            soubor += uzivatel.email;\r\n            soubor += \",\";\r\n            soubor += uzivatel.isLibrarian;\r\n            soubor += \",\";\r\n            soubor += uzivatel.isAdministrator;\r\n        }\r\n        this.downloadBlob(\"Sysadmin - export uživatelů.txt\", new Blob([soubor]));\r\n    }\r\n\r\n    private downloadBlob(fileName: string, blob: Blob) {\r\n        let url = URL.createObjectURL(blob);\r\n\r\n        let linkElement = document.createElement(\"a\");\r\n        linkElement.download = fileName;\r\n        linkElement.href = url;\r\n\r\n        linkElement.click();\r\n\r\n        URL.revokeObjectURL(url);\r\n    }\r\n}\r\n","<div class=\"d-flex align-items-center\">\r\n    <h2 class=\"m-4 flex-grow-1\">Uživatelé</h2>\r\n    <button class=\"btn btn-secondary m-1\" (click)=\"export()\">Exportovat</button>\r\n    <button class=\"btn btn-secondary m-1 mr-4\"(click)=\"import()\">Importovat</button>\r\n</div>\r\n<table class=\"table table-striped table-hover\">\r\n    <thead>\r\n        <tr [formGroup]=\"filterForm\">\r\n            <th class=\"sticky-top bg-white table-column-id\">\r\n                Id\r\n                <input type=\"text\" class=\"form-control form-control-sm\" formControlName=\"id\" [class.is-invalid]=\"!isIdFilterValid\">\r\n            </th>\r\n            <th class=\"table-column-fill sticky-top bg-white\">\r\n                Uživatelské jméno\r\n                <input type=\"text\" class=\"form-control form-control-sm\" formControlName=\"userName\">\r\n            </th>\r\n            <th class=\"table-column-fill sticky-top bg-white align-top\">Heslo</th>\r\n            <th class=\"table-column-fill sticky-top bg-white\">\r\n                Jméno\r\n                <input type=\"text\" class=\"form-control form-control-sm\" formControlName=\"firstName\">\r\n            </th>\r\n            <th class=\"table-column-fill sticky-top bg-white\">\r\n                Příjmení\r\n                <input type=\"text\" class=\"form-control form-control-sm\" formControlName=\"lastName\">\r\n            </th>\r\n            <th class=\"table-column-fill sticky-top bg-white\">\r\n                Email\r\n                <input type=\"text\" class=\"form-control form-control-sm\" formControlName=\"email\">\r\n            </th>\r\n            <th class=\"sticky-top bg-white\">\r\n                Knihovník\r\n                <div class=\"form-check text-center\">\r\n                    <input style=\"width: 18px; height: 19px; cursor: pointer;\" class=\"form-check-input position-static\"\r\n                        type=\"checkbox\" formControlName=\"isLibrarian\">\r\n                </div>\r\n            </th>\r\n            <th class=\"sticky-top bg-white\">\r\n                Administrátor\r\n                <div class=\"form-check text-center\">\r\n                    <input style=\"width: 18px; height: 19px; cursor: pointer;\" class=\"form-check-input position-static\"\r\n                        type=\"checkbox\" formControlName=\"isAdministrator\">\r\n                </div>\r\n            </th>\r\n            <th class=\"sticky-top bg-white text-nowrap\">\r\n                <small class=\"text-muted font-weight-normal text-center d-block pb-1\">{{changesText}}</small>\r\n                <button [class.invisible]=\"!hasChanges\" [disabled]=\"!isAllValid\" class=\"btn btn-sm btn-success mr-1\"\r\n                    (click)=\"saveAll()\">Uložit</button>\r\n                <button [class.invisible]=\"!hasChanges\" class=\"btn btn-sm btn-danger ml-1\"\r\n                    (click)=\"discardAll()\">Zahodit</button>\r\n            </th>\r\n            <th class=\"sticky-top bg-white\"></th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr *ngFor=\"let user of users\"\r\n            [class.table-warning]=\"(user.isChanged || user.original === null) && user !== newUser\">\r\n            <td class=\"table-column-id align-middle\">\r\n                <ng-container *ngIf=\"user.original !== null\">{{user.original.id}}</ng-container>\r\n                <i *ngIf=\"user.original === null\" class=\"fas fa-plus\"></i>\r\n            </td>\r\n            <td class=\"table-column-fill\">\r\n                <input [class.is-invalid]=\"!user.isUserNameValid && user !== newUser\"\r\n                    class=\"form-control form-control-sm editable-cell\" placeholder=\"Nevyplněno\" type=\"text\"\r\n                    [(ngModel)]=\"user.newUserName\">\r\n            </td>\r\n            <td class=\"table-column-fill\">\r\n                <input [class.is-invalid]=\"!user.isPasswordValid && user !== newUser\"\r\n                    class=\"form-control form-control-sm editable-cell\"\r\n                    [placeholder]=\"user.original === null ? 'Nevyplněno' : 'Nezměněno'\" type=\"password\"\r\n                    [(ngModel)]=\"user.newPassword\">\r\n            </td>\r\n            <td class=\"table-column-fill\">\r\n                <input class=\"form-control form-control-sm editable-cell\" placeholder=\"Nevyplněno\" type=\"text\"\r\n                    [(ngModel)]=\"user.newFirstName\">\r\n            </td>\r\n            <td class=\"table-column-fill\">\r\n                <input class=\"form-control form-control-sm editable-cell\" placeholder=\"Nevyplněno\" type=\"text\"\r\n                    [(ngModel)]=\"user.newLastName\">\r\n            </td>\r\n            <td class=\"table-column-fill\">\r\n                <input [class.is-invalid]=\"!user.isEmailValid && user !== newUser\"\r\n                    class=\"form-control form-control-sm editable-cell\" placeholder=\"Nevyplněno\" type=\"text\"\r\n                    [(ngModel)]=\"user.newEmail\">\r\n            </td>\r\n            <td>\r\n                <div class=\"form-check text-center\">\r\n                    <input style=\"width: 18px; height: 19px; cursor: pointer;\" class=\"form-check-input position-static\"\r\n                        type=\"checkbox\" [(ngModel)]=\"user.newIsLibrarian\">\r\n                </div>\r\n            </td>\r\n            <td>\r\n                <div class=\"form-check text-center\">\r\n                    <input style=\"width: 18px; height: 19px; cursor: pointer;\" class=\"form-check-input position-static\"\r\n                        type=\"checkbox\" [(ngModel)]=\"user.newIsAdministrator\">\r\n                </div>\r\n            </td>\r\n            <td class=\"pr-0 text-nowrap\">\r\n                <button [class.invisible]=\"!user.isChanged && user.original !== null || user === newUser\"\r\n                    [disabled]=\"!user.isValid\" class=\"btn btn-sm btn-success mr-1\" (click)=\"save(user)\">Uložit</button>\r\n                <button [class.invisible]=\"!user.isChanged && user.original !== null || user === newUser\"\r\n                    class=\"btn btn-sm btn-danger ml-1\" (click)=\"discard(user)\">Zahodit</button>\r\n            </td>\r\n            <td>\r\n                <i *ngIf=\"user.original !== null\" class=\"fas fa-trash fa-2x cursor-pointer text-muted\"\r\n                    style=\"font-size: 1.5em\" (click)=\"remove(user)\"></i>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n<div *ngIf=\"users === undefined\" class=\"flex-grow-1 d-flex justify-content-center align-items-center\">\r\n    <div class=\"spinner-border\" role=\"status\">\r\n        <span class=\"sr-only\">Načítání...</span>\r\n    </div>\r\n</div>\r\n<div *ngIf=\"users !== undefined && users.length === 1 && !isFiltred\" class=\"flex-grow-1 d-flex justify-content-center align-items-center\">\r\n    <span class=\"text-muted\">Databáze neobsahuje žádné záznamy.</span>\r\n</div>\r\n<div *ngIf=\"users !== undefined && users.length === 0 && isFiltred\" class=\"flex-grow-1 d-flex justify-content-center align-items-center\">\r\n    <span class=\"text-muted\">Podle zadaných kritérií nebyly nalezeny žádné záznamy.</span>\r\n</div>","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","export class User {\r\n    constructor(\r\n        public readonly id: number, \r\n        public readonly userName: string,\r\n        public readonly firstName: string,\r\n        public readonly lastName: string,\r\n        public readonly email: string,\r\n        public readonly isLibrarian: boolean,\r\n        public readonly isAdministrator: boolean\r\n    ) { }\r\n}","import { AlertType } from './alert-type';\r\n\r\nexport class Alert {\r\n    constructor(\r\n        public readonly message: string,\r\n        public readonly type: AlertType\r\n    ) { }\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { UsersComponent } from '../pages/users/users.component';\r\nimport { SignedInCanActivate } from './can-activates/signed-in-can-activate';\r\n\r\nconst routes: Routes = [\r\n    { path: \"users\", component: UsersComponent, canActivate: [SignedInCanActivate] },\r\n    { path: \"**\", redirectTo: \"users\" }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forRoot(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { NgModule, APP_INITIALIZER } from '@angular/core';\r\nimport { AppRoutingModule } from './routing/app-routing.module';\r\nimport { AppComponent } from './pages/app/app.component';\r\nimport { UsersComponent } from './pages/users/users.component';\r\nimport { MainNavigationComponent, SIGN_OUT_URL, USER_MODULE_URL, LIBRARIAN_MODULE_URL } from './pages/app/main-navigation/main-navigation.component';\r\nimport { AlertViewComponent } from './alerts/alert-view/alert-view.component';\r\nimport { API_URL } from './core/api/api';\r\nimport { ConfirmDialogComponent } from './dialogs/confirm-dialog/confirm-dialog.component';\r\nimport { MainFooterComponent } from './pages/app/main-footer/main-footer.component';\r\nimport { SIGN_IN_URL } from './routing/can-activates/signed-in-can-activate';\r\nimport { WithCredentialsHttpInterceptor } from './http-interceptors/with-credentials-http-interceptor';\r\nimport { AppInitializeService } from './app-initialize.service';\r\n\r\nexport function createAppInitializer(appInitializeService: AppInitializeService) {\r\n    return async () => await appInitializeService.intialize();\r\n}\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        UsersComponent,\r\n        MainNavigationComponent,\r\n        AlertViewComponent,\r\n        ConfirmDialogComponent,\r\n        MainFooterComponent\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        HttpClientModule,\r\n        AppRoutingModule\r\n    ],\r\n    providers: [\r\n        {\r\n            provide: HTTP_INTERCEPTORS,\r\n            useClass: WithCredentialsHttpInterceptor,\r\n            multi: true\r\n        },\r\n        {\r\n            provide: APP_INITIALIZER,\r\n            useFactory: createAppInitializer,\r\n            deps: [AppInitializeService],\r\n            multi: true\r\n        },\r\n        {\r\n            provide: API_URL,\r\n            useValue: \"/knihovna/sysadmin/api\"\r\n        },\r\n        {\r\n            provide: SIGN_IN_URL,\r\n            useValue: \"/knihovna/authentication/signIn.php\"\r\n        },\r\n        {\r\n            provide: SIGN_OUT_URL,\r\n            useValue: \"/knihovna/authentication/signOut.php\"\r\n        },\r\n        {\r\n            provide: USER_MODULE_URL,\r\n            useValue: \"/knihovna/uzivatel\"\r\n        },\r\n        {\r\n            provide: LIBRARIAN_MODULE_URL,\r\n            useValue: \"/knihovna/knihovnik\"\r\n        }\r\n    ],\r\n    entryComponents: [\r\n        ConfirmDialogComponent\r\n    ],\r\n    bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","export enum AlertType {\r\n    info,\r\n    warning,\r\n    error\r\n}","import { Component } from '@angular/core';\r\nimport { AlertService } from '../alert.service';\r\nimport { Alert } from '../alert';\r\nimport { AlertType } from '../alert-type';\r\n\r\n@Component({\r\n    selector: 'app-alert-view',\r\n    templateUrl: './alert-view.component.html',\r\n    styleUrls: ['./alert-view.component.scss']\r\n})\r\nexport class AlertViewComponent {\r\n    get activeAlerts(): Alert[] {\r\n        return this.alertService.active;\r\n    }\r\n\r\n    getAlertClass(alert: Alert): string {\r\n        switch (alert.type) {\r\n            case AlertType.warning:\r\n                return \"alert-warning\";\r\n            case AlertType.error:\r\n                return \"alert-danger\";\r\n            default:\r\n                return \"alert-info\";\r\n        }\r\n    }\r\n\r\n    constructor(private readonly alertService: AlertService) { \r\n\r\n    }\r\n}\r\n","<div *ngFor=\"let alert of activeAlerts\" [class]=\"'m-1 shadow-sm alert ' + getAlertClass(alert)\">\r\n    {{alert.message}}\r\n</div>","export class UserHasActiveBorrowsError extends Error {\r\n    \r\n}","import { Component, TemplateRef, ViewChild, ElementRef, AfterViewInit, Output, EventEmitter, Input } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-confirm-dialog',\r\n    templateUrl: './confirm-dialog.component.html',\r\n    styleUrls: ['./confirm-dialog.component.scss']\r\n})\r\nexport class ConfirmDialogComponent implements AfterViewInit {\r\n    @Input()\r\n    title: string;\r\n    @Input()\r\n    message: string;\r\n    @Output()\r\n    close = new EventEmitter<boolean>();\r\n    @ViewChild(\"modal\", { static: true }) \r\n    modal: ElementRef<any>;\r\n\r\n    confirmed = false;\r\n\r\n    ngAfterViewInit() {\r\n        // @ts-ignore\r\n        let modalElement = $(this.modal.nativeElement);\r\n\r\n        modalElement.modal({});\r\n        modalElement.on(\"hidden.bs.modal\", () => this.close.emit(this.confirmed));\r\n    }\r\n}\r\n","<div #modal class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\">{{title}}</h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">{{message}}</div>\r\n            <div class=\"modal-footer\">\r\n                <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\">Ne</button>\r\n                <button type=\"button\" class=\"btn btn-success\" data-dismiss=\"modal\" (click)=\"confirmed = true\">Ano</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { User } from 'src/app/core/users/user';\r\n\r\nexport class UserViewModel {\r\n    constructor(\r\n        public original: User,\r\n        public newUserName: string,\r\n        public newPassword: string,\r\n        public newFirstName: string,\r\n        public newLastName: string,\r\n        public newEmail: string,\r\n        public newIsLibrarian: boolean,\r\n        public newIsAdministrator: boolean\r\n    ) { }\r\n\r\n    get isChanged(): boolean {\r\n        if (this.original == null) {\r\n            return this.newUserName !== \"\" || this.newPassword !== \"\" || this.newFirstName !== \"\" || this.newLastName !== \"\" || this.newEmail !== \"\" || \r\n                this.newIsLibrarian !== false ||this.newIsAdministrator !== false;\r\n        }\r\n        else {\r\n            return this.newUserName !== this.original.userName || this.newPassword !== \"\" || this.newFirstName !== this.original.firstName || \r\n            this.newLastName !== this.original.lastName || this.newEmail !== this.original.email || this.newIsLibrarian !== this.original.isLibrarian || \r\n            this.newIsAdministrator !== this.original.isAdministrator;\r\n        }\r\n    }\r\n\r\n    get isUserNameValid() {\r\n        return this.newUserName.length > 0;\r\n    }\r\n\r\n    get isPasswordValid() {\r\n        return this.newPassword.length >= 8 || (this.original !== null && this.newPassword === \"\");\r\n    }\r\n\r\n    get isEmailValid() {\r\n        return this.newEmail === \"\" || /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n            .test(this.newEmail);\r\n    }\r\n\r\n    get isValid() {\r\n        return this.isUserNameValid && this.isPasswordValid && this.isEmailValid;\r\n    }\r\n\r\n    resetToOriginal() {\r\n        if (this.original !== null) {\r\n            this.newUserName = this.original.userName;\r\n            this.newPassword = \"\";\r\n            this.newFirstName = this.original.firstName;\r\n            this.newLastName = this.original.lastName;\r\n            this.newEmail = this.original.email;\r\n            this.newIsLibrarian = this.original.isLibrarian;\r\n            this.newIsAdministrator = this.original.isAdministrator;\r\n        } else {\r\n            this.newUserName = \"\";\r\n            this.newPassword = \"\";\r\n            this.newFirstName = \"\";\r\n            this.newLastName = \"\";\r\n            this.newEmail = \"\";\r\n            this.newIsLibrarian = false;\r\n            this.newIsAdministrator = false;\r\n        }\r\n    }\r\n}","import { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { Injectable, InjectionToken, Inject } from '@angular/core';\r\nimport { SignInService } from 'src/app/core/sign-in/sign-in.service';\r\n\r\nexport const SIGN_IN_URL = new InjectionToken<string>(\"Sign in page url.\");\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class SignedInCanActivate implements CanActivate {\r\n    constructor(private readonly signInService: SignInService, @Inject(SIGN_IN_URL) private readonly signInUrl: string) {\r\n\r\n    }\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | UrlTree | Observable<boolean | UrlTree> | Promise<boolean | UrlTree> {\r\n        let signedIn = this.signInService.signedUser !== null;\r\n\r\n        if (!signedIn)\r\n            window.location.href = this.signInUrl + \"?redirectUrl=\" + window.location.href;\r\n\r\n        return signedIn;\r\n    }\r\n}","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}