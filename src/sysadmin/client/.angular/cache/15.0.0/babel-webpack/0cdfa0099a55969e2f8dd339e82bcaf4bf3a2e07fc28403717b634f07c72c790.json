{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { User } from 'src/app/core/users/user';\nimport { UserViewModel } from './user-view-model';\nimport { AlertType } from 'src/app/alerts/alert-type';\nimport { UserNameAlreadyUsedError } from 'src/app/core/users/user-name-already-used-error';\nimport { FormGroup, FormControl, ValidationErrors, AbstractControl } from '@angular/forms';\nimport { UserHasActiveBorrowsError } from 'src/app/core/users/user-has-active-borrows-error';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/users/user.service\";\nimport * as i2 from \"src/app/alerts/alert.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction UsersComponent_tr_44_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const user_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r4.original.id);\n  }\n}\nfunction UsersComponent_tr_44_i_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 33);\n  }\n}\nfunction UsersComponent_tr_44_i_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"i\", 34);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_44_i_26_Template_i_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const user_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.remove(user_r4));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_tr_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 24);\n    i0.ɵɵtemplate(2, UsersComponent_tr_44_ng_container_2_Template, 2, 1, \"ng-container\", 25);\n    i0.ɵɵtemplate(3, UsersComponent_tr_44_i_3_Template, 1, 0, \"i\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 27)(5, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_tr_44_Template_input_ngModelChange_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const user_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(user_r4.newUserName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\", 27)(7, \"input\", 29);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_tr_44_Template_input_ngModelChange_7_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const user_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(user_r4.newPassword = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\", 27)(9, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_tr_44_Template_input_ngModelChange_9_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const user_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(user_r4.newFirstName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\", 27)(11, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_tr_44_Template_input_ngModelChange_11_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const user_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(user_r4.newLastName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\", 27)(13, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_tr_44_Template_input_ngModelChange_13_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const user_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(user_r4.newEmail = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"div\", 15)(16, \"input\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_tr_44_Template_input_ngModelChange_16_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const user_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(user_r4.newIsLibrarian = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"td\")(18, \"div\", 15)(19, \"input\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_tr_44_Template_input_ngModelChange_19_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const user_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(user_r4.newIsAdministrator = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"td\", 31)(21, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_44_Template_button_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const user_r4 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.save(user_r4));\n    });\n    i0.ɵɵtext(22, \"Ulo\\u017Eit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_44_Template_button_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const user_r4 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.discard(user_r4));\n    });\n    i0.ɵɵtext(24, \"Zahodit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵtemplate(26, UsersComponent_tr_44_i_26_Template, 1, 0, \"i\", 32);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const user_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"table-warning\", (user_r4.isChanged || user_r4.original === null) && user_r4 !== ctx_r0.newUser);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", user_r4.original !== null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", user_r4.original === null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"is-invalid\", !user_r4.isUserNameValid && user_r4 !== ctx_r0.newUser);\n    i0.ɵɵproperty(\"ngModel\", user_r4.newUserName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"is-invalid\", !user_r4.isPasswordValid && user_r4 !== ctx_r0.newUser);\n    i0.ɵɵproperty(\"placeholder\", user_r4.original === null ? \"Nevypln\\u011Bno\" : \"Nezm\\u011Bn\\u011Bno\")(\"ngModel\", user_r4.newPassword);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", user_r4.newFirstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", user_r4.newLastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"is-invalid\", !user_r4.isEmailValid && user_r4 !== ctx_r0.newUser);\n    i0.ɵɵproperty(\"ngModel\", user_r4.newEmail);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", user_r4.newIsLibrarian);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", user_r4.newIsAdministrator);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"invisible\", !user_r4.isChanged && user_r4.original !== null || user_r4 === ctx_r0.newUser);\n    i0.ɵɵproperty(\"disabled\", !user_r4.isValid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"invisible\", !user_r4.isChanged && user_r4.original !== null || user_r4 === ctx_r0.newUser);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", user_r4.original !== null);\n  }\n}\nfunction UsersComponent_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"div\", 36)(2, \"span\", 37);\n    i0.ɵɵtext(3, \"Na\\u010D\\u00EDt\\u00E1n\\u00ED...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction UsersComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"span\", 38);\n    i0.ɵɵtext(2, \"Datab\\u00E1ze neobsahuje \\u017E\\u00E1dn\\u00E9 z\\u00E1znamy.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UsersComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"span\", 38);\n    i0.ɵɵtext(2, \"Podle zadan\\u00FDch krit\\u00E9ri\\u00ED nebyly nalezeny \\u017E\\u00E1dn\\u00E9 z\\u00E1znamy.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let UsersComponent = /*#__PURE__*/(() => {\n  class UsersComponent {\n    constructor(userService, alertService) {\n      this.userService = userService;\n      this.alertService = alertService;\n      this.filterForm = new FormGroup({\n        id: new FormControl(\"\", this.idFilterValidator),\n        userName: new FormControl(\"\"),\n        firstName: new FormControl(\"\"),\n        lastName: new FormControl(\"\"),\n        email: new FormControl(\"\"),\n        isLibrarian: new FormControl(false),\n        isAdministrator: new FormControl(false)\n      });\n      this.filterForm.valueChanges.subscribe(() => __awaiter(this, void 0, void 0, function* () {\n        this.users = undefined;\n        yield this.refreshUsers();\n        if (!this.isFiltred) this.addNewUser();\n      }));\n    }\n    get hasChanges() {\n      return this.users !== undefined && this.users.some(u => (u.isChanged || u.original === null) && u !== this.newUser);\n    }\n    get isAllValid() {\n      return this.users === undefined || this.users.every(u => u.isValid || u === this.newUser);\n    }\n    get isFiltred() {\n      return this.filterForm.get(\"id\").value != \"\" || this.filterForm.get(\"userName\").value != \"\" || this.filterForm.get(\"firstName\").value != \"\" || this.filterForm.get(\"lastName\").value != \"\" || this.filterForm.get(\"email\").value != \"\" || this.filterForm.get(\"isLibrarian\").value != false || this.filterForm.get(\"isAdministrator\").value != false;\n    }\n    get isIdFilterValid() {\n      return !this.filterForm.get(\"id\").invalid;\n    }\n    get changesText() {\n      if (this.users === undefined) return \"\";\n      let changesCount = this.users.filter(u => u.isChanged).length;\n      if (changesCount === 0) return \"\";else if (changesCount === 1) return `${changesCount} změna.`;else if (changesCount > 1 && changesCount < 5) return `${changesCount} změny.`;else return `${changesCount} změn.`;\n    }\n    ngOnInit() {\n      return __awaiter(this, void 0, void 0, function* () {\n        yield this.refreshUsers();\n        this.addNewUser();\n      });\n    }\n    ngDoCheck() {\n      if (this.newUser != undefined && this.newUser.isChanged) this.addNewUser();\n      if (this.hasChanges) this.filterForm.disable({\n        emitEvent: false\n      });else this.filterForm.enable({\n        emitEvent: false\n      });\n    }\n    refreshUsers() {\n      return __awaiter(this, void 0, void 0, function* () {\n        let idFilterControl = this.filterForm.get(\"id\");\n        let idFilter = idFilterControl.value;\n        let userNameFilter = this.filterForm.get(\"userName\").value;\n        let firstNameFilter = this.filterForm.get(\"firstName\").value;\n        let lastNameFilter = this.filterForm.get(\"lastName\").value;\n        let emailFilter = this.filterForm.get(\"email\").value;\n        let isLibrarianFilter = this.filterForm.get(\"isLibrarian\").value;\n        let isAdministratorFilter = this.filterForm.get(\"isAdministrator\").value;\n        let options = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, idFilter !== \"\" && !idFilterControl.invalid && {\n          idFilter: parseInt(idFilter)\n        }), userNameFilter !== \"\" && {\n          userNameFilter\n        }), firstNameFilter !== \"\" && {\n          firstNameFilter\n        }), lastNameFilter !== \"\" && {\n          lastNameFilter\n        }), emailFilter !== \"\" && {\n          emailFilter\n        }), isLibrarianFilter !== false && {\n          isLibrarianFilter\n        }), isAdministratorFilter !== false && {\n          isAdministratorFilter\n        });\n        this.users = (yield this.userService.getAll(options).toPromise()).map(u => new UserViewModel(u, u.userName, \"\", u.firstName, u.lastName, u.email, u.isLibrarian, u.isAdministrator));\n      });\n    }\n    addNewUser() {\n      this.newUser = new UserViewModel(null, \"\", \"\", \"\", \"\", \"\", false, false);\n      this.users.unshift(this.newUser);\n    }\n    save(user) {\n      return __awaiter(this, void 0, void 0, function* () {\n        let newUser;\n        if (user.original != null) {\n          let u = new User(user.original.id, user.newUserName, user.newFirstName, user.newLastName, user.newEmail, user.newIsLibrarian, user.newIsAdministrator);\n          let newPassword = user.newPassword === \"\" ? undefined : user.newPassword;\n          try {\n            newUser = yield this.userService.update(u, newPassword).toPromise();\n          } catch (e) {\n            if (e instanceof UserNameAlreadyUsedError) {\n              this.alertService.show(`Uživatelské jméno '${u.userName}' již používá někdo jiný.`, AlertType.error);\n              return;\n            }\n            throw e;\n          }\n        } else {\n          let u = new User(0, user.newUserName, user.newFirstName, user.newLastName, user.newEmail, user.newIsLibrarian, user.newIsAdministrator);\n          try {\n            newUser = yield this.userService.add(u, user.newPassword).toPromise();\n          } catch (e) {\n            if (e instanceof UserNameAlreadyUsedError) {\n              this.alertService.show(`Uživatelské jméno '${u.userName}' již používá někdo jiný.`, AlertType.error);\n              return;\n            }\n            throw e;\n          }\n        }\n        user.original = newUser;\n        user.resetToOriginal();\n      });\n    }\n    discard(user) {\n      if (user.original == null) this.users.splice(this.users.indexOf(user), 1);else user.resetToOriginal();\n    }\n    remove(user) {\n      return __awaiter(this, void 0, void 0, function* () {\n        try {\n          yield this.userService.remove(user.original).toPromise();\n          this.users.splice(this.users.indexOf(user), 1);\n        } catch (e) {\n          if (e instanceof UserHasActiveBorrowsError) {\n            this.alertService.show(\"Nelze smazat uživatele s aktivními výpůjčkami.\", AlertType.error);\n            return;\n          }\n          throw e;\n        }\n      });\n    }\n    saveAll() {\n      this.users.filter(u => u.isChanged).forEach(u => this.save(u));\n    }\n    discardAll() {\n      this.users.filter(u => u.isChanged || u.original === null && u !== this.newUser).forEach(u => this.discard(u));\n    }\n    idFilterValidator(control) {\n      if (/^(0|(-?[1-9][0-9]*)|)$/.test(control.value)) return null;else return {\n        invalidId: true\n      };\n    }\n    import() {\n      let kontrola = 0;\n      let validniRadky = [];\n      let element = document.createElement(\"input\");\n      element.type = \"file\";\n      element.addEventListener(\"change\", () => {\n        let file = element.files[0];\n        let reader = new FileReader();\n        reader.readAsText(file, \"UTF-8\");\n        reader.onload = () => {\n          let soubor = reader.result;\n          let radky = soubor.split(/\\r\\n?|\\n/);\n          for (let i = 0; i < radky.length; i++) {\n            let atributyUsera = radky[i].split(\",\");\n            if (atributyUsera.length != 7 || atributyUsera[5] != \"true\" && atributyUsera[5] != \"false\" || atributyUsera[6] != \"true\" && atributyUsera[6] != \"false\") {\n              this.alertService.show(\"Chyba na řádku \" + (i + 1), AlertType.error);\n              kontrola++;\n            } else {\n              validniRadky.push(atributyUsera);\n            }\n          }\n          if (kontrola == 0) {\n            for (let i = 0; i < radky.length; i++) {\n              let validniRadek = validniRadky.pop();\n              let uzivatel = new UserViewModel(null, validniRadek[0], validniRadek[1], validniRadek[2], validniRadek[3], validniRadek[4], validniRadek[5] === \"true\", validniRadek[6] === \"true\");\n              this.users.unshift(uzivatel);\n            }\n          }\n        };\n      });\n      element.click();\n    }\n    export() {\n      return __awaiter(this, void 0, void 0, function* () {\n        let soubor = \"\";\n        let uzivatele = yield this.userService.getAll().toPromise();\n        for (let i = 0; i < uzivatele.length; i++) {\n          let uzivatel = uzivatele[i];\n          if (i != 0) soubor += \"\\n\";\n          soubor += uzivatel.userName;\n          soubor += \",\";\n          soubor += uzivatel.firstName;\n          soubor += \",\";\n          soubor += uzivatel.lastName;\n          soubor += \",\";\n          soubor += uzivatel.email;\n          soubor += \",\";\n          soubor += uzivatel.isLibrarian;\n          soubor += \",\";\n          soubor += uzivatel.isAdministrator;\n        }\n        this.downloadBlob(\"Sysadmin - export uživatelů.txt\", new Blob([soubor]));\n      });\n    }\n    downloadBlob(fileName, blob) {\n      let url = URL.createObjectURL(blob);\n      let linkElement = document.createElement(\"a\");\n      linkElement.download = fileName;\n      linkElement.href = url;\n      linkElement.click();\n      URL.revokeObjectURL(url);\n    }\n  }\n  UsersComponent.ɵfac = function UsersComponent_Factory(t) {\n    return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.AlertService));\n  };\n  UsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UsersComponent,\n    selectors: [[\"app-users\"]],\n    decls: 48,\n    vars: 13,\n    consts: [[1, \"d-flex\", \"align-items-center\"], [1, \"m-4\", \"flex-grow-1\"], [1, \"btn\", \"btn-secondary\", \"m-1\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", \"m-1\", \"mr-4\", 3, \"click\"], [1, \"table\", \"table-striped\", \"table-hover\"], [3, \"formGroup\"], [1, \"sticky-top\", \"bg-white\", \"table-column-id\"], [\"type\", \"text\", \"formControlName\", \"id\", 1, \"form-control\", \"form-control-sm\"], [1, \"table-column-fill\", \"sticky-top\", \"bg-white\"], [\"type\", \"text\", \"formControlName\", \"userName\", 1, \"form-control\", \"form-control-sm\"], [1, \"table-column-fill\", \"sticky-top\", \"bg-white\", \"align-top\"], [\"type\", \"text\", \"formControlName\", \"firstName\", 1, \"form-control\", \"form-control-sm\"], [\"type\", \"text\", \"formControlName\", \"lastName\", 1, \"form-control\", \"form-control-sm\"], [\"type\", \"text\", \"formControlName\", \"email\", 1, \"form-control\", \"form-control-sm\"], [1, \"sticky-top\", \"bg-white\"], [1, \"form-check\", \"text-center\"], [\"type\", \"checkbox\", \"formControlName\", \"isLibrarian\", 1, \"form-check-input\", \"position-static\", 2, \"width\", \"18px\", \"height\", \"19px\", \"cursor\", \"pointer\"], [\"type\", \"checkbox\", \"formControlName\", \"isAdministrator\", 1, \"form-check-input\", \"position-static\", 2, \"width\", \"18px\", \"height\", \"19px\", \"cursor\", \"pointer\"], [1, \"sticky-top\", \"bg-white\", \"text-nowrap\"], [1, \"text-muted\", \"font-weight-normal\", \"text-center\", \"d-block\", \"pb-1\"], [1, \"btn\", \"btn-sm\", \"btn-success\", \"mr-1\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", \"ml-1\", 3, \"click\"], [3, \"table-warning\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"flex-grow-1 d-flex justify-content-center align-items-center\", 4, \"ngIf\"], [1, \"table-column-id\", \"align-middle\"], [4, \"ngIf\"], [\"class\", \"fas fa-plus\", 4, \"ngIf\"], [1, \"table-column-fill\"], [\"placeholder\", \"Nevypln\\u011Bno\", \"type\", \"text\", 1, \"form-control\", \"form-control-sm\", \"editable-cell\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", 1, \"form-control\", \"form-control-sm\", \"editable-cell\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", 1, \"form-check-input\", \"position-static\", 2, \"width\", \"18px\", \"height\", \"19px\", \"cursor\", \"pointer\", 3, \"ngModel\", \"ngModelChange\"], [1, \"pr-0\", \"text-nowrap\"], [\"class\", \"fas fa-trash fa-2x cursor-pointer text-muted\", \"style\", \"font-size: 1.5em\", 3, \"click\", 4, \"ngIf\"], [1, \"fas\", \"fa-plus\"], [1, \"fas\", \"fa-trash\", \"fa-2x\", \"cursor-pointer\", \"text-muted\", 2, \"font-size\", \"1.5em\", 3, \"click\"], [1, \"flex-grow-1\", \"d-flex\", \"justify-content-center\", \"align-items-center\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"sr-only\"], [1, \"text-muted\"]],\n    template: function UsersComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"U\\u017Eivatel\\u00E9\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function UsersComponent_Template_button_click_3_listener() {\n          return ctx.export();\n        });\n        i0.ɵɵtext(4, \"Exportovat\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function UsersComponent_Template_button_click_5_listener() {\n          return ctx.import();\n        });\n        i0.ɵɵtext(6, \"Importovat\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"table\", 4)(8, \"thead\")(9, \"tr\", 5)(10, \"th\", 6);\n        i0.ɵɵtext(11, \" Id \");\n        i0.ɵɵelement(12, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\", 8);\n        i0.ɵɵtext(14, \" U\\u017Eivatelsk\\u00E9 jm\\u00E9no \");\n        i0.ɵɵelement(15, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"th\", 10);\n        i0.ɵɵtext(17, \"Heslo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"th\", 8);\n        i0.ɵɵtext(19, \" Jm\\u00E9no \");\n        i0.ɵɵelement(20, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"th\", 8);\n        i0.ɵɵtext(22, \" P\\u0159\\u00EDjmen\\u00ED \");\n        i0.ɵɵelement(23, \"input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\", 8);\n        i0.ɵɵtext(25, \" Email \");\n        i0.ɵɵelement(26, \"input\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"th\", 14);\n        i0.ɵɵtext(28, \" Knihovn\\u00EDk \");\n        i0.ɵɵelementStart(29, \"div\", 15);\n        i0.ɵɵelement(30, \"input\", 16);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"th\", 14);\n        i0.ɵɵtext(32, \" Administr\\u00E1tor \");\n        i0.ɵɵelementStart(33, \"div\", 15);\n        i0.ɵɵelement(34, \"input\", 17);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"th\", 18)(36, \"small\", 19);\n        i0.ɵɵtext(37);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"button\", 20);\n        i0.ɵɵlistener(\"click\", function UsersComponent_Template_button_click_38_listener() {\n          return ctx.saveAll();\n        });\n        i0.ɵɵtext(39, \"Ulo\\u017Eit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function UsersComponent_Template_button_click_40_listener() {\n          return ctx.discardAll();\n        });\n        i0.ɵɵtext(41, \"Zahodit\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(42, \"th\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(43, \"tbody\");\n        i0.ɵɵtemplate(44, UsersComponent_tr_44_Template, 27, 24, \"tr\", 22);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(45, UsersComponent_div_45_Template, 4, 0, \"div\", 23);\n        i0.ɵɵtemplate(46, UsersComponent_div_46_Template, 3, 0, \"div\", 23);\n        i0.ɵɵtemplate(47, UsersComponent_div_47_Template, 3, 0, \"div\", 23);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"formGroup\", ctx.filterForm);\n        i0.ɵɵadvance(3);\n        i0.ɵɵclassProp(\"is-invalid\", !ctx.isIdFilterValid);\n        i0.ɵɵadvance(25);\n        i0.ɵɵtextInterpolate(ctx.changesText);\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"invisible\", !ctx.hasChanges);\n        i0.ɵɵproperty(\"disabled\", !ctx.isAllValid);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"invisible\", !ctx.hasChanges);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.users);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.users === undefined);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.users !== undefined && ctx.users.length === 1 && !ctx.isFiltred);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.users !== undefined && ctx.users.length === 0 && ctx.isFiltred);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.CheckboxControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.FormGroupDirective, i4.FormControlName],\n    styles: [\"[_nghost-%COMP%]{display:flex;flex-direction:column}.editable-cell[_ngcontent-%COMP%]{background:initial;border:none;box-shadow:none!important}.editable-cell.is-invalid[_ngcontent-%COMP%]{color:#dc3545}.editable-cell.is-invalid[_ngcontent-%COMP%]::placeholder{color:#dc3545}.table-column-fill[_ngcontent-%COMP%]{width:20%}.table-column-id[_ngcontent-%COMP%]{min-width:70px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}\"]\n  });\n  return UsersComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}